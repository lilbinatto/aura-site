import{a as O}from"https://app.framerstatic.com/chunk-7SUUZGLE.mjs";import{a as Ct,b as vt,c as bt,d as yt,e as Pt}from"https://app.framerstatic.com/chunk-AOCZ23XB.mjs";import{a as It,h as gt}from"https://app.framerstatic.com/chunk-WSBJ4DJQ.mjs";import{a as ht}from"https://app.framerstatic.com/chunk-ABHKVANM.mjs";import"https://app.framerstatic.com/chunk-5LBBN5VN.mjs";import{A as be,B as ut,C as ft,b as Yo,c as et,d as ot,f as tt,g as rt,i as ve,j as nt,k as at,m as it,s as dt,t as st,u as lt,v as Ie,w as ct,x as pt,y as mt,z as ge}from"https://app.framerstatic.com/chunk-24H4JZ4R.mjs";import{a as Jo}from"https://app.framerstatic.com/chunk-LLWI7POF.mjs";import{a as Xo}from"https://app.framerstatic.com/chunk-AG7S5MTU.mjs";import"https://app.framerstatic.com/chunk-FR3T53U6.mjs";import{c as Qo,d as jo,e as Zo,g as Z}from"https://app.framerstatic.com/chunk-URSERSAJ.mjs";import{a as Go}from"https://app.framerstatic.com/chunk-C4M6NOU7.mjs";import{d as he,e as Ce,f as ko,i as Wo,r as Bo,t as Ho}from"https://app.framerstatic.com/chunk-73PQQZHW.mjs";import{a as zo}from"https://app.framerstatic.com/chunk-D3E5WERX.mjs";import{Lg as Eo,Mg as Fo}from"https://app.framerstatic.com/chunk-YX4KBNTH.mjs";import{k as Oo}from"https://app.framerstatic.com/chunk-AIUIMGSP.mjs";import{b as Ao}from"https://app.framerstatic.com/chunk-7GSEC7H4.mjs";import"https://app.framerstatic.com/chunk-4M4IMC5E.mjs";import"https://app.framerstatic.com/chunk-Y4KSD2WZ.mjs";import"https://app.framerstatic.com/chunk-XOCLHAK3.mjs";import{a as Ko,b as $o,c as _o}from"https://app.framerstatic.com/chunk-CTKJD4ES.mjs";import{h as Uo}from"https://app.framerstatic.com/chunk-4H4FO4OE.mjs";import{fh as Vo,o as Lo,q as So}from"https://app.framerstatic.com/chunk-HQIRDKP5.mjs";import{$e as eo,Bb as Ge,Bg as so,D as ke,Da as ze,Eh as bo,F as We,Fa as ie,Fb as je,Fe as Ze,Hb as le,Hf as no,Ig as G,Je as Ke,Ke as $e,Pe as B,Pg as lo,Q as Ue,Sg as co,Tg as po,Ue as _e,Ve as ce,We as Q,Xe as Je,Xg as mo,Ye as Xe,_e as Ye,ah as me,cg as q,dg as io,dh as uo,do as Mo,eh as fo,ep as ue,fe as H,fh as ho,fm as Ro,gh as Co,hb as se,hj as yo,hw as To,ib as Qe,jr as j,nh as vo,qf as oo,qh as Io,qo as No,rf as to,rh as go,rr as fe,sf as ro,yb as qe,zj as Po,zv as xo}from"https://app.framerstatic.com/chunk-RLQDSJQO.mjs";import"https://app.framerstatic.com/chunk-VXJAAVJQ.mjs";import"https://app.framerstatic.com/chunk-6C6VSETA.mjs";import"https://app.framerstatic.com/chunk-FYUJQV6J.mjs";import"https://app.framerstatic.com/chunk-KYPY4QS7.mjs";import{b as qo}from"https://app.framerstatic.com/chunk-3CBKMBAL.mjs";import"https://app.framerstatic.com/chunk-XFC6OVIX.mjs";import{K as w,g as ae,n as De,s as we}from"https://app.framerstatic.com/chunk-R5YUPPAW.mjs";import"https://app.framerstatic.com/chunk-XFC6OVIX.mjs";import"https://app.framerstatic.com/chunk-LH43QRIB.mjs";import"https://app.framerstatic.com/chunk-4AQCMAAQ.mjs";import{e as wo}from"https://app.framerstatic.com/chunk-NKVLMFEH.mjs";import"https://app.framerstatic.com/chunk-2LDYO53J.mjs";import"https://app.framerstatic.com/chunk-GOOR6KBX.mjs";import"https://app.framerstatic.com/chunk-PPOWLCIV.mjs";import"https://app.framerstatic.com/chunk-POQKH4YA.mjs";import{g as Do,p as Gt}from"https://app.framerstatic.com/chunk-CCR572US.mjs";import"https://app.framerstatic.com/chunk-AUNF3KWQ.mjs";import{p as pe,r as ao}from"https://app.framerstatic.com/chunk-M2KIWTNK.mjs";import{b as E,e as Ae,f as He,i as de}from"https://app.framerstatic.com/chunk-ZQUNXESX.mjs";import{Ic as Be,Wd as qt,a as F,b as L}from"https://app.framerstatic.com/chunk-NIDOI5EE.mjs";import{j as Fe}from"https://app.framerstatic.com/chunk-YENBE4UN.mjs";import"https://app.framerstatic.com/chunk-JH4VNPZO.mjs";import{$ as Ee,C as Le,H as Se,L as Te,P as Ve,Q as Oe,da as A,i as Ne,l as U}from"https://app.framerstatic.com/chunk-CQ6F5PRQ.mjs";import{a as C,b as Me}from"https://app.framerstatic.com/chunk-WNSBRACC.mjs";import{a as xe}from"https://app.framerstatic.com/chunk-LQILWJHN.mjs";import{e as M,j as c}from"https://app.framerstatic.com/chunk-AHQIRSXG.mjs";var Rt=new WeakMap;function ye(t){let e=Rt.get(t);if(e)return e;let o=new Set;if((Lo(t)||So(t))&&o.add(t),t.children)for(let r of t.children){let n=ye(r);for(let i of n)o.add(i)}return Rt.set(t,o),o}var V=M(F()),At=M(Gt());var D=M(F()),Lt=M(L()),K=(0,D.createContext)({nodeInTextEditorId:void 0,clipPath:void 0});K.displayName="NodeInTextEditorContext";function Mt({children:t,nodeInTextEditorId:e,clipPath:o}){let r=(0,D.useMemo)(()=>({nodeInTextEditorId:e,clipPath:o??void 0}),[e,o]);return(0,Lt.jsx)(K.Provider,{value:r,children:t})}function Nt(){let{nodeInTextEditorId:t}=(0,D.useContext)(K);return t}function xt(){let{clipPath:t}=(0,D.useContext)(K);return t}var y=M(F()),Ft=M(qt());var $=M(F()),Ot=M(L()),St=(0,$.createContext)(void 0);function Tt({children:t,update:e}){return(0,Ot.jsx)(St.Provider,{value:e,children:t})}function Vt(){return(0,$.useContext)(St)}var _=M(F()),k=M(L());function J({context:t,children:e,fallback:o}){return(0,k.jsx)(_.Suspense,{fallback:(0,k.jsx)(jt,{context:t,children:o}),children:e})}function jt({context:t,children:e}){return(0,_.useLayoutEffect)(()=>t.loadingStateTracker.trackSuspense(),[t]),(0,k.jsx)(k.Fragment,{children:e})}function z(t,e){let o=new Set;o.add(e);let r=j(t,e);if(r){let n=mt(r);for(let i of n)o.add(i)}return o}var p=M(L());ke({target:We.canvas});function Dt({context:t,webPageNode:e,collectionItemNode:o,breakpointNode:r,temporaryCollectionItemNodeId:n}){let i=(0,y.useContext)(q).activeLocale??void 0;if(e&&r)return H(e)&&o?(0,p.jsx)(J,{context:t,children:(0,p.jsx)(Zt,{context:t,webPageNode:e,collectionItemNode:o,breakpointNode:r,activeLocale:i,temporaryCollectionItemNodeId:n})}):(0,p.jsx)(wt,{context:t,webPageNode:e,breakpointNode:r,combinedControlMap:void 0,combinedValueMap:void 0,placeholderVariableIds:void 0,activeLocale:i})}function Zt({context:t,webPageNode:e,collectionItemNode:o,breakpointNode:r,activeLocale:n,temporaryCollectionItemNodeId:i}){let a=e.tree();C(a,"Must have a tree");let l=e.dataIdentifier,d=z(a,l);t.modulesRuntime.usePreloadedModules(...d);let[s,m]=t.modulesRuntime.useComponentLoader(),u=s.dataForIdentifier(l);C(u,"Data definition must exist after preloading module");let f=e.getVariableControlMap(a,s,m);C(f,"Control map must exist");let P=pt(e,a,f,r,n,o.id,"public-and-private"),g=me(P);t.sandboxCollectionData.set(e.id,g,f);let b=e.getVariableValueMap(a,s,t.sandboxCollectionData,m);C(b,"Value map must exist");let N=j(a,l),{patchedValueMap:S,placeholderVariableIds:R}=(0,y.useMemo)(()=>!!N&&o.id===i?Kt(N,b):{patchedValueMap:b,placeholderVariableIds:new Set},[N,b,o.id,i]),h=(0,y.useMemo)(()=>{let I=new Map;return I.set(e.id,f),I},[f,e.id]),v=(0,y.useMemo)(()=>{let I=new Map;return I.set(e.id,S),I},[S,e.id]);return(0,p.jsx)(wt,{context:t,webPageNode:e,breakpointNode:r,combinedControlMap:h,combinedValueMap:v,placeholderVariableIds:R,activeLocale:n})}function Kt(t,e){let o=new Map(e),r=new Set;for(let[n,i]of e){let a=t.getVariable(n);if(a){if(a.type==="string"){if(!(!i||E(i)&&i.trim()===""))continue;let d=a.options?.placeholder||a.description||a.name;o.set(n,d),r.add(n)}if(a.type==="richtext"){if(!(!i||E(i)&&Ho(i)))continue;o.set(n,`<p>${a.description||a.name}</p>`),r.add(n)}}}return{patchedValueMap:o,placeholderVariableIds:r}}function wt({context:t,webPageNode:e,breakpointNode:o,combinedControlMap:r,combinedValueMap:n,placeholderVariableIds:i,activeLocale:a}){return ue(e)?(0,p.jsx)(J,{context:t,children:(0,p.jsx)(_t,{context:t,webPageNode:e,breakpointNode:o,combinedControlMap:r,combinedValueMap:n,placeholderVariableIds:i,activeLocale:a})}):(0,p.jsx)(W,{context:t,parentRenderId:e.id,node:o,parent:e,combinedControlMap:r,combinedValueMap:n,placeholderVariableIds:i,activeLocale:a,nodePropOverrides:void 0})}var kt={minHeight:"100vh",width:"auto"},$t=nt();function _t({context:t,webPageNode:e,breakpointNode:o,combinedControlMap:r,combinedValueMap:n,placeholderVariableIds:i,activeLocale:a}){let l=(0,y.useRef)(null),d=(0,y.useRef)(null);t.modulesRuntime.usePreloadedModules(e.layoutTemplateIdentifier);let[s]=t.modulesRuntime.useComponentLoader(),m=Z(),u=X(t.fetchClient,e),f=e.getResolvedControlPropValues(s,m,n,a,u);f.style??={},Object.assign(f.style,kt);let P=s.reactComponentForIdentifier(e.layoutTemplateIdentifier);C(P,"Component definition not found");let g=P.class,b=Mo(o)&&Ro(o)?o.width:void 0,{activeVariant:N,className:S,selectors:R}=at(e.layoutTemplateIdentifier,b,$t)||{};(0,y.useLayoutEffect)(()=>{if(!l.current||!d.current)return;let v=ve(d.current);if(t.layoutMeasureQueue.add(o.id,l.current,v),!!R)for(let I of R){let T=l.current.querySelector(I);T&&t.layoutMeasureQueue.add(o.id,T,[],I)}},[t.layoutMeasureQueue,o.id,R]);let h=(0,y.useMemo)(()=>({ref:d}),[]);return(0,p.jsx)("div",{ref:l,className:S,children:(0,p.jsx)(g,{...f,variant:N,children:(0,p.jsx)(W,{context:t,parentRenderId:e.id,node:o,parent:e,combinedControlMap:r,combinedValueMap:n,placeholderVariableIds:i,activeLocale:a,nodePropOverrides:h})})})}var W=(0,y.memo)(function({context:e,parentRenderId:o,node:r,parent:n,combinedControlMap:i,combinedValueMap:a,placeholderVariableIds:l,activeLocale:d,nodePropOverrides:s}){let m=he(o,r.id),u=r.tree();return r.cache.resetForRendering(),r.cache.setVariableValueAndControlMap(a,a,i,d),Wo(n,r),xo(r)||r.resolveValue("visible",a)===!1?(e.sandboxVisibility.setVisible(m,!1),null):(e.sandboxVisibility.setVisible(m,!0),(0,p.jsx)(J,{context:e,children:(0,p.jsx)(Xt,{context:e,renderId:m,tree:u,node:r,parent:n,combinedControlMap:i,combinedValueMap:a,placeholderVariableIds:l,activeLocale:d,nodePropOverrides:s})}))});function Jt(t,e,o,r,n,i,a){let l=X(t.fetchClient,o),d=o.getProps(n,i,l);if(B(r)&&(d.style??={},d.style.position="relative",d.style.width="100%",ue(r)?(d.style.display="contents",d.style.position="relative",d._needsMeasure=!1,d["data-layout-template-root"]=!0):Object.assign(d.style,kt)),ce(o)){let s=ft(o,i);s&&(d.viewBox=s)}if(d.id=e,a)for(let s in a){let m=a[s];s==="style"&&d.style?Object.assign(d.style,m):d[s]=m}return d}function Xt({context:t,renderId:e,tree:o,node:r,parent:n,combinedControlMap:i,combinedValueMap:a,placeholderVariableIds:l,activeLocale:d,nodePropOverrides:s}){let m=Jt(t,e,r,n,a,d,s);return Xe(r)?(0,p.jsx)(Io,{...m}):eo(r)?(be(r),(0,p.jsx)(ie,{...m,as:"svg",children:r.children.map(u=>{let f=he(e,u.id);return ge(u,a,t.sandboxVisibility,f,!1)})})):yo(r)?(be(r),ge(r,a,t.sandboxVisibility,e,!0)):_e(r)?(0,p.jsx)(go,{...m}):ce(r)?(0,p.jsx)(Yt,{context:t,node:r,combinedValueMap:a,placeholderVariableIds:l,activeLocale:d,nodeProps:m,renderId:e}):Ze(r)?(0,p.jsx)(er,{context:t,renderId:e,tree:o,node:r,combinedControlMap:i,combinedValueMap:a,placeholderVariableIds:l,activeLocale:d,nodeProps:m}):oo(r)?(0,p.jsx)(fo,{...m}):ro(r)?(0,p.jsx)(Co,{...m}):to(r)?(0,p.jsx)(ho,{...m}):Je(r)?null:Q(r)?r.isVectorInstance?(0,p.jsx)(rr,{node:r,context:t,nodeProps:m,combinedValueMap:a,activeLocale:d}):(0,p.jsx)(tr,{context:t,renderId:e,node:r,combinedControlMap:i,combinedValueMap:a,placeholderVariableIds:l,activeLocale:d,nodeProps:m}):(no(r),null)}var Yt=(0,y.memo)(function({context:e,node:o,combinedValueMap:r,placeholderVariableIds:n,activeLocale:i,nodeProps:a,renderId:l}){let d=o.getFontsForLoading();e.fontLoader.usePreloadedFonts(...d),a={...a};let s=Nt(),m=xt();if(s===l)if(m){let f=a.style??{};a.style={...f,clipPath:m}}else a.isEditable=!0;or(o,n)&&(a.opacity=.3);let u=(0,y.useMemo)(()=>ut(o,r,i),[o,r,i]);if(le(o.htmlContent)&&o.getComponentPresets().size>0){let f=o.tree();return C(f,"Must have a tree"),(0,p.jsx)(tt,{tree:f,node:o,...a,children:u})}return(0,p.jsx)(vo,{...a,children:u})});function er({context:t,renderId:e,tree:o,node:r,combinedControlMap:n,combinedValueMap:i,placeholderVariableIds:a,activeLocale:l,nodeProps:d}){let s=(0,y.useRef)(),m=d.ref??s;ze(d,m,ve);let u=Vt(),f=To(o,r),P=r.getChildrenInVisualOrder();if(u&&u.placeholder.id===r.id){let g=P.findIndex(b=>b.id===u.id);P=Ee.move(P,g,u.placeholder.index)}return(0,p.jsx)(ie,{...d,ref:m,children:P.map(g=>{if(g.id===f?.id)return(0,p.jsx)(ir,{context:t,parentRenderId:e,tree:o,node:g,parent:r,combinedControlMap:n,combinedValueMap:i,placeholderVariableIds:a,activeLocale:l},"repeated-child");let b;u&&g.id===u.id&&(b={style:{left:u.rect.left,top:u.rect.top,alignSelf:"unset",justifySelf:"unset",placeSelf:"unset",zIndex:999999,width:u.rect.width,height:u.rect.height,position:"absolute",outline:`1px solid ${Do.onPageHighlightBorderDragging}`}});let N=(0,p.jsx)(W,{context:t,parentRenderId:e,node:g,parent:r,combinedControlMap:n,combinedValueMap:i,placeholderVariableIds:a,activeLocale:l,nodePropOverrides:b},g.id);return u&&g.id===u.id?(0,p.jsxs)(y.Fragment,{children:[(0,p.jsx)(rt,{width:u.placeholder.size.width,height:u.placeholder.size.height}),(0,Ft.createPortal)(N,document.body)]},g.id):N})})}function or(t,e){return e?Et(t.htmlContent,e)||Et(t.textContent,e):!1}function Et(t,e){return le(t)?e.has(t.id):!1}function tr({context:t,renderId:e,node:o,combinedControlMap:r,combinedValueMap:n,placeholderVariableIds:i,activeLocale:a,nodeProps:l}){let d=o.tree();C(d,"Must have a tree"),t.modulesRuntime.usePreloadedModules(o.codeComponentIdentifier);let[s]=t.modulesRuntime.useComponentLoader(),m=s.reactComponentForIdentifier(o.codeComponentIdentifier);C(m,"Component definition not found");let u=Z(),f=X(t.fetchClient,o),P=o.getCodeComponentProps(s,u,n,a,f),g=Eo(d,o,s);g.children=Fo(d,o,s);for(let h in g){let v=g[h];v&&(P[h]=v.map(I=>{let T=ko(e,o.id,h,I.key);return(0,p.jsx)(W,{context:t,parentRenderId:T,node:I.node,parent:o,combinedControlMap:r,combinedValueMap:n,placeholderVariableIds:i,activeLocale:a,nodePropOverrides:ar},I.key)}))}let b=o.getRichTextControlKeys(s);for(let h of b){let v=P[h];E(v)&&(P[h]=Uo(v))}let N=o.getComponentVectorSetChildren(s,n),S=new Set;for(let h in N){let v=N[h];de(v)||(S.add(v),t.modulesRuntime.preloadModule(v))}t.modulesRuntime.usePreloadedModules(...S);for(let h in N){let v=N[h];if(de(v))continue;let I=s.reactComponentForIdentifier(v);C(I,"Vector definition not found"),P[h]=I.class}let R=m.class;return(0,p.jsx)(it,{...l,children:(0,p.jsx)(R,{...P})})}function rr({context:t,node:e,nodeProps:o,combinedValueMap:r,activeLocale:n}){let[i]=t.modulesRuntime.useComponentLoader(),a=Z(),l=X(t.fetchClient,e);return dt({node:e,frameProps:o,getCodeComponentProps(){return e.getCodeComponentProps(i,a,r,n,l)},combinedValueMap:r,renderVectorWithIdentifier(d,s){return(0,p.jsx)(nr,{context:t,identifier:d,getProps:s})}})}function nr({context:t,identifier:e,getProps:o}){t.modulesRuntime.preloadModule(e),t.modulesRuntime.usePreloadedModules(e);let[r]=t.modulesRuntime.useComponentLoader(),n=r.reactComponentForIdentifier(e);C(n,"Component definition not found");let i=o(),a=n.class;return(0,p.jsx)(a,{...i})}var ar={position:"relative"};function ir({parent:t,...e}){if(Ke(t))return(0,p.jsx)(dr,{...e,parent:t});if($e(t))return(0,p.jsx)(sr,{...e,parent:t});Me(t,"Unsupported repeater type")}function dr({context:t,parentRenderId:e,tree:o,node:r,parent:n,combinedControlMap:i,combinedValueMap:a,placeholderVariableIds:l,activeLocale:d}){let s=z(o,n.dataIdentifier);t.modulesRuntime.usePreloadedModules(...s);let[m,u]=t.modulesRuntime.useComponentLoader(),f=n.getVariableControlMap(o,m,u);C(f,"Control map must exist");let P=Bo(n,f,st(o,n),R=>({type:"LiteralValue",value:r.cache.getVariableReferenceValue(R,a)}),R=>ct(o,n,R,d));Vo(n)&&lt(P,n);let g=me(P);t.sandboxCollectionData.set(e,g,f);let b=n.originalid??n.id,N=(0,y.useMemo)(()=>{let R=new Map(i);return R.set(b,f),R},[f,i,b]),S=(0,y.useMemo)(()=>g.map((R,h)=>{let v=new Map(a),I=Ie(o,f,R,h);return v.set(b,I),v}),[o,f,a,b,g]);return g.map((R,h)=>{let v=E(R.id)?R.id:h,I=S[h],T=Ce(e,n.id,v,h);return(0,p.jsx)(W,{context:t,parentRenderId:T,node:r,parent:n,combinedControlMap:N,combinedValueMap:I,placeholderVariableIds:l,activeLocale:d,nodePropOverrides:void 0},v)})}function sr({context:t,parentRenderId:e,tree:o,node:r,parent:n,combinedControlMap:i,combinedValueMap:a,placeholderVariableIds:l,activeLocale:d}){C(a,"Combined value map must exist");let[s,m]=t.modulesRuntime.useComponentLoader(),u=n.getVariableControlMap(o,s,m);C(u,"Control map must exist");let f=n.dataRepeaterArray,P=f.providerId;C(P,"Variable must have providerId");let g=a.get(P);C(g,"Provider value map must exist");let b=g.get(f.id);C(He(b)&&b.every(Ae),"Invalid array value");let N=n.originalid??n.id,S=(0,y.useMemo)(()=>{let h=new Map(i);return h.set(N,u),h},[u,i,N]),R=(0,y.useMemo)(()=>b.map((h,v)=>{let I=new Map(a),T=Ie(o,u,h,v);return I.set(N,T),I}),[o,u,a,N,b]);return b.map((h,v)=>{let I=E(h.id)?h.id:v,T=R[v],Qt=Ce(e,n.id,I,v);return(0,p.jsx)(W,{context:t,parentRenderId:Qt,node:r,parent:n,combinedControlMap:S,combinedValueMap:T,placeholderVariableIds:l,activeLocale:d,nodePropOverrides:void 0},I)})}function X(t,e){return o=>{let r=qe(o);if(!Yo(r))return et(e,r.controlProp);let n=Ge(r,l=>e.cache.getVariableReferenceValue(l)),i=lo({url:n,credentials:r.credentials}),a=t.getValue(i);if(a)return ot(e,r,a);throw t.fetchWithCache({url:n,cacheDuration:r.cacheDuration,credentials:r.credentials})}}var Y=M(F());var Ut=M(L());function Wt({tree:t,children:e}){let o=ht();(0,Y.useLayoutEffect)(()=>{let n=o?"dark":"light";document.body.setAttribute("data-framer-theme",n)},[o]);let r=(0,Y.useMemo)(()=>Po(t,o),[t,o]);return(0,Ut.jsx)(uo,{customProperties:r,children:e})}var ee=class{constructor(){c(this,"loaders",new Map)}preloadFonts(...e){for(let o of e){if(this.loaders.has(o))continue;let r=new G(async()=>{await w.loadFonts([o])});r.preload(),this.loaders.set(o,r)}}usePreloadedFonts(...e){for(let o of e){let r=this.loaders.get(o);C(r,"Font not preloaded"),r.use()}}};var oe=class{constructor(){c(this,"promises",new Set)}trackSuspense(){let e=new A;return this.promises.add(e),()=>{e.resolve(),this.promises.delete(e)}}async waitForSuspense(){this.promises.size!==0&&(await Promise.all(this.promises),await this.waitForSuspense())}};var zt=M(F());var Re=class{constructor(e,o){this.modulesRuntime=e;this.identifier=o;c(this,"loaderPromise",new A);c(this,"loader",new G(()=>this.loaderPromise))}async evaluate(e){let o=await gt(e),r=[],n=this.modulesRuntime.getLocales();await It(this.modulesRuntime.queryEngine,n,this.identifier,o,r,void 0,0),await this.modulesRuntime.updateComponentLoader(r),this.loaderPromise.resolve(),this.modulesRuntime.notifyReactComponents()}},te=class{constructor(e){this.sandbox=e;c(this,"componentLoaderHash",0);c(this,"reactComponentListeners",new Set);c(this,"localModules",new Map);c(this,"loadedModules",new Map);c(this,"queryEngine",new mo);c(this,"reactExternalStore",{subscribe:e=>(this.reactComponentListeners.add(e),()=>{this.reactComponentListeners.delete(e)}),getSnapshot:()=>this.componentLoaderHash})}getLocales(){return this.sandbox.getLocales()}useComponentLoader(){let e=(0,zt.useSyncExternalStore)(this.reactExternalStore.subscribe,this.reactExternalStore.getSnapshot);return[se,String(e)]}async updateComponentLoader(e){se.updateModuleEntities(e),await this.sandbox.remoteComponentsStore.updateComponentLoader(bt(e),this.componentLoaderHash++)}notifyReactComponents(){for(let e of this.reactComponentListeners)e()}getLocalModuleURL(e){let o=this.localModules.get(e.localId);if(o)return o.moduleURL}getExternalModuleURL(e){return`${xe().modulesCDN}/${e.moduleId}/${e.saveId}/${e.file}`}getModuleURL(e){return Le(e)?this.getExternalModuleURL(e):this.getLocalModuleURL(e)}async loadModule(e){this.preloadModule(e),await this.getPreloadedModule(e).loader.readAsync()}preloadModule(e){let o=Bt(e);if(this.loadedModules.get(o.value))return;let n=new Re(this,o);this.loadedModules.set(o.value,n);let i=this.getModuleURL(o);i&&n.evaluate(i).catch(U)}getPreloadedModule(e){let o=Bt(e),r=this.loadedModules.get(o.value);return C(r,"Module not preloaded"),r}usePreloadedModules(...e){let o=[];for(let r of e){let i=this.getPreloadedModule(r).loader.preload();i&&o.push(i)}if(o.length>0)throw Promise.all(o)}updateDependenciesModule(e){let o=JSON.parse(e.importMapContent);Pe(o,"framer-user-importmap")}updateLocalModules(e){let o=new Map,r=new Set;for(let[,n]of e){C(n.kind!=="fast-refresh","Fast-refresh is not supported");let i=n.localId;o.set(i,n),this.localModules.get(i)?.moduleURL!==n.moduleURL&&r.add(i)}this.localModules=o,this.updateLocalModulesImportMap();for(let n of r){let i=Se(n),a=this.loadedModules.get(i.value);if(a){let l=this.getLocalModuleURL(i);l&&a.evaluate(l).catch(U)}}}updateLocalModulesImportMap(){let e={imports:{},scopes:{}};for(let[o,r]of this.localModules){let n=r.files.module;if(!n)continue;let i=Oe(o,n);e.imports[i]=r.moduleURL}Pe(e,"framer-local-modules")}insertTemporaryImportMap(e){let o=crypto.randomUUID();Pe(e,o)}};function Bt(t){let e=Te(t);return C(e,"Invalid module identifier"),Ve(e)}function Pe(t,e){let o=document.createElement("script");o.type="importmap-shim",o.id=e,o.innerHTML=JSON.stringify(t);let r=document.getElementById(e);r?r.replaceWith(o):document.body.appendChild(o)}var x=M(L()),lr=je(t=>t?fe(t,{includeDrafts:!1}):Ne()),re=class{constructor(e){this.container=e;c(this,"reactRoot");c(this,"needsRender",!1);c(this,"assetMap",new De);c(this,"fontLoader",new ee);c(this,"modulesRuntime",new te(this));c(this,"fetchClient",new co);c(this,"loadingStateTracker",new oe);c(this,"sandboxCollectionData",new Go("sandbox"));c(this,"sandboxVisibility",new jo("sandbox"));c(this,"optimizedCanvasImageRenderer",new yt);c(this,"partialTreeReceiver",new Ct);c(this,"controlsVisibility",new Qo(this.partialTreeReceiver));c(this,"presetsListNode");c(this,"webPageNodeId");c(this,"webPageNode");c(this,"collectionItemNodeId");c(this,"collectionItemNode");c(this,"breakpointNodeId");c(this,"breakpointNode");c(this,"nodeInTextEditorId");c(this,"nodeInTextEditorClipPath",null);c(this,"temporaryCollectionItemNodeId");c(this,"remoteComponentsStore");c(this,"remoteSandboxStore");c(this,"remoteTreeStore");c(this,"moveToolState");c(this,"layoutMeasureQueue",new Pt({shouldMeasureCallback:()=>{let e=this.measureLayout();e&&this.remoteTreeStore.onLayoutMeasure(e)},shouldMeasureCallbackDelayMs:0}));this.reactRoot=(0,At.createRoot)(this.container);let o=new Xo(O);o.setLocal(O.channels.sandbox,this),o.setLocal(O.channels.controlsVisibility,this.controlsVisibility),o.setLocal(O.channels.modulesRuntime,this.modulesRuntime),o.setLocal(O.channels.flags,this),this.remoteComponentsStore=o.getRemote(O.channels.componentsStore),this.remoteSandboxStore=o.getRemote(O.channels.sandboxStore),this.remoteTreeStore=o.getRemote(O.channels.treeStore),this.connectRpc(o).catch(U)}get tree(){return this.partialTreeReceiver.tree}getLocales(){return lr(this.tree?.root?.locales)}async connectRpc(e){await e.connect({target:window.parent,url:wo(document.referrer).origin}),new ResizeObserver(r=>{C(r.length===1,"Invalid length");let n=r[0];C(n,"Invalid entry"),C(n.target===this.container,"Invalid target"),this.breakpointNode&&this.layoutMeasureQueue.remeasureNode(this.breakpointNode),this.remoteSandboxStore.oneway.onHeightChange(n.contentRect.height)}).observe(this.container)}measureLayout(){if(!this.webPageNode||!this.breakpointNode)return;let e=new Set;e.add(this.breakpointNode.id);let o=this.layoutMeasureQueue.process({groundNodesInViewport:e,offsetX:0,offsetY:0,scopeId:this.webPageNode.id,tree:this.tree,zoom:1});if(o.length!==0)return o}scrollTo(e){if(window.scrollTo(e),this.breakpointNode){for(let o of ye(this.breakpointNode))this.layoutMeasureQueue.remeasureNode(o);this.layoutMeasureQueue.remeasureNode(this.breakpointNode)}}update(e){let o=e.partialTreeUpdate;o&&(this.partialTreeReceiver.update(o),this.preloadTree());let r=e.webPageNodeId;r&&(this.webPageNodeId=r);let n=e.collectionItemNodeId;n&&(this.collectionItemNodeId=n);let i=e.breakpointNodeId;i&&(this.breakpointNodeId=i);let a=e.stylePresetBreakpointClassNames;E(a)&&(this.container.className=a);let l=e.dependenciesModule;l&&this.modulesRuntime.updateDependenciesModule(l);let d=e.localModules;d&&this.modulesRuntime.updateLocalModules(d);let s=e.assets;s&&(this.assetMap.set(s),w.importCustomFonts(s,pe.isOn("customFontGrouping"))),this.nodeInTextEditorId!==e.nodeInTextEditorId&&e.nodeInTextEditorId!==void 0&&(this.nodeInTextEditorId=e.nodeInTextEditorId,this.needsRender=!0),e.nodeInTextEditorClipPath!==void 0&&this.nodeInTextEditorClipPath!==e.nodeInTextEditorClipPath&&(this.nodeInTextEditorClipPath=e.nodeInTextEditorClipPath,this.needsRender=!0),this.temporaryCollectionItemNodeId!==e.temporaryCollectionItemNodeId&&e.temporaryCollectionItemNodeId!==void 0&&(this.temporaryCollectionItemNodeId=e.temporaryCollectionItemNodeId,this.needsRender=!0),e.moveToolState!==void 0&&(this.moveToolState=e.moveToolState,this.needsRender=!0),this.updateWebPageNode(),this.updateCollectionItemNode(),this.updateBreakpointNode(),this.updatePresetsListNode(),this.render()}preloadWebPage(){if(this.webPageNode){for(let e of this.webPageNode.walk())if(Q(e)&&this.modulesRuntime.preloadModule(e.codeComponentIdentifier),B(e)&&e.layoutTemplateIdentifier&&this.modulesRuntime.preloadModule(e.layoutTemplateIdentifier),H(e)&&this.modulesRuntime.preloadModule(e.dataIdentifier),vt(e)){let o=e.getFontsForLoading();this.fontLoader.preloadFonts(...o)}}}preloadTree(){let e=this.tree.getContentManagementNode()?.loaded;if(e)for(let r of e.children){let n=z(this.tree,r.instanceIdentifier);for(let i of n)this.modulesRuntime.preloadModule(i)}let o=this.tree.getPresetsListNode();if(o){for(let r of o.children)if(Oo(r)){let n=r.getFontsForCodeGeneration();this.fontLoader.preloadFonts(...n)}}}updateWebPageNode(){let e=this.tree.getNodeWithTrait(this.webPageNodeId,B)?.loaded;this.webPageNode!==e&&(this.needsRender=!0,this.webPageNode=e,this.preloadWebPage())}updateCollectionItemNode(){let e=this.tree.getNodeWithTrait(this.collectionItemNodeId,Ye)??void 0;this.collectionItemNode!==e&&(this.needsRender=!0,this.collectionItemNode=e)}updateBreakpointNode(){let e=this.tree.get(this.breakpointNodeId)??void 0;this.breakpointNode!==e&&(this.needsRender=!0,this.breakpointNode=e)}updatePresetsListNode(){let e=this.tree.getPresetsListNode()??void 0;this.presetsListNode!==e&&(this.needsRender=!0,this.presetsListNode=e)}async onRendered(e){await this.loadingStateTracker.waitForSuspense(),this.breakpointNode&&e&&this.remoteSandboxStore.onInitialLoadComplete(e),this.remoteTreeStore.onSandboxRendered({layoutMeasurements:this.measureLayout(),collectionUpdates:this.sandboxCollectionData.export(),visibilityUpdates:this.sandboxVisibility.export()})}render(){this.needsRender&&((0,V.startTransition)(()=>{this.reactRoot.render((0,x.jsx)(V.StrictMode,{children:(0,x.jsxs)(cr,{webPageNodeId:this.webPageNodeId,onRendered:this.onRendered.bind(this),children:[(0,x.jsx)(Wt,{tree:this.tree,children:(0,x.jsx)(so,{children:(0,x.jsx)(Be,{isStatic:!0,children:(0,x.jsx)(pr,{tree:this.tree,children:(0,x.jsx)(po,{client:this.fetchClient,children:(0,x.jsx)(Ue,{parentSize:1,children:(0,x.jsx)(Mt,{nodeInTextEditorId:this.nodeInTextEditorId,clipPath:this.nodeInTextEditorClipPath,children:(0,x.jsx)(Tt,{update:this.moveToolState,children:(0,x.jsx)(Dt,{context:this,webPageNode:this.webPageNode,collectionItemNode:this.collectionItemNode,breakpointNode:this.breakpointNode,temporaryCollectionItemNodeId:this.temporaryCollectionItemNodeId})})})})})})})})}),(0,x.jsx)(Jo,{presetsListNode:this.presetsListNode})]})}))}),this.needsRender=!1)}updateExperiments(e){pe.update(e)}updateProjectFeatures(e){qo.update(e)}updateEmployeesOnlySettings(e){zo.update(e)}};function cr({children:t,webPageNodeId:e,onRendered:o}){return(0,V.useEffect)(()=>{o(e)}),(0,x.jsx)(x.Fragment,{children:t})}function pr({tree:t,children:e}){let o=t.root.getDefaultLocale(),r=(0,V.useMemo)(()=>{let d=[o];t.root.locales&&d.push(...t.root.locales);let s=fe(d,{includeDrafts:!1}),m=s[0];return C(m),{activeLocale:m,locales:s,setLocale:Ao}},[o,t.root.locales]),n=ao("adaptLayoutToTextDirectionSetting"),i=t.root.adaptLayoutToTextDirection&&n,a=r.activeLocale?.textDirection??"ltr",l=i?a:"ltr";return(0,V.useLayoutEffect)(()=>{i?document.documentElement.setAttribute("dir",a):document.documentElement.removeAttribute("dir")},[i,a]),(0,x.jsx)(q.Provider,{value:r,children:(0,x.jsx)(io.Provider,{value:l,children:e})})}Object.assign(window,{Framer:bo});Fe({name:"canvas",security:{}});var Ht=document.querySelector("main");C(Ht,"Container element not found");var ne=new re(Ht),mr=Zo(ne.assetMap);w.importFramerFonts(No);Qe({isOnPageCanvas:!0,assetResolver:mr,queueMeasureRequest(...t){ne.layoutMeasureQueue.add(...t)},enableFontStore:!0,fetchGoogleFontsList:_o,fetchFontshareFontsList:$o,fetchBuiltInFontsList:Ko,imagePlaceholderSvg:'<svg width="64" height="64" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h64v64H0V0Z" fill="#222" fill-opacity=".8"/><path d="M64 12.4 12.4 64H11l53-53v1.4ZM64 33.7 33.7 64h-1.4L64 32.3v1.4ZM64 55l-9 9h-1.4L64 53.6v1.5ZM12.4 0 0 12.4V11L11 0h1.4ZM33.7 0 0 33.7v-1.4L32.3 0h1.4ZM55 0 0 55v-1.4L53.6 0h1.5Z" fill="#888" fill-opacity=".2"/></svg>',useImageSource(t){if(!t.src)return"";let e=we(t.src);return e?ae(e.identifier):ae(t.src)},canRenderOptimizedCanvasImage:ne.optimizedCanvasImageRenderer.canRenderCanvasImage,renderOptimizedCanvasImage:ne.optimizedCanvasImageRenderer.renderCanvasImage});
//# sourceMappingURL=https://app.framerstatic.com/canvas-sandbox-on-page.MHDVRYQK.mjs.map
